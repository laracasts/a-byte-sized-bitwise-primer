import{o as l,c as d,t as x,r as $,a as I,b as f,u as T,d as V,e as A,w as m,v as k,f as B,m as N,g as v,h as r,i as j,T as D,j as w,k as E,F as S,l as a,n as c,p as O}from"./app-hDaUe_Kr.js";import{_ as C,a as q,I as b,b as z,c as F,d as L,e as G}from"./InlineInputGroup-DxDwsS0p.js";const P={class:"flex items-baseline font-sans text-lg font-semibold tracking-tight text-alternate"},H=f("span",{class:"mr-3 block size-2 bg-alternate","aria-hidden":"true"},null,-1),J={key:0},K={key:1},Q={key:2,class:"ml-2 inline-block text-primary"},y={__name:"InputLabel",props:{value:{type:String},optional:{type:Boolean,default:!1}},setup(t){return(u,i)=>(l(),d("label",P,[H,t.value?(l(),d("span",J,x(t.value),1)):(l(),d("span",K,[$(u.$slots,"default")])),t.optional?(l(),d("span",Q,"(Optional)")):I("",!0)]))}},R={__name:"TextInput",props:{modelValue:{type:String,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(t,{expose:u}){const i=T(t,"modelValue"),s=V(null);return A(()=>{s.value.hasAttribute("autofocus")&&s.value.focus()}),u({focus:()=>s.value.focus()}),(p,n)=>m((l(),d("input",{class:"border-0 bg-gray-700 px-5 py-3 font-semibold outline-0 ring-1 ring-gray-500 duration-300 focus:border-0 focus:outline-0 focus:ring-alternate","onUpdate:modelValue":n[0]||(n[0]=e=>i.value=e),ref_key:"input",ref:s},null,512)),[[k,i.value]])}},W={class:"text-sm text-error"},h={__name:"InputError",props:{message:{type:String}},setup(t){return(u,i)=>m((l(),d("div",null,[f("p",W,x(t.message),1)],512)),[[B,t.message]])}},X=["rows"],Y={__name:"TextArea",props:N({rows:{type:Number,default:5}},{modelValue:{type:String,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t,{expose:u}){const i=T(t,"modelValue"),s=V(null);return A(()=>{s.value.hasAttribute("autofocus")&&s.value.focus()}),u({focus:()=>s.value.focus()}),(p,n)=>m((l(),d("textarea",{class:"border-0 bg-gray-700 px-5 py-3 outline-0 ring-1 ring-gray-500 duration-300 focus:border-0 focus:outline-0 focus:ring-1 focus:ring-alternate","onUpdate:modelValue":n[0]||(n[0]=e=>i.value=e),ref_key:"input",ref:s,rows:t.rows},null,8,X)),[[k,i.value]])}},Z={},ee={class:"text-sm text-gray-200"};function te(t,u){return l(),d("span",ee,[$(t.$slots,"default")])}const U=C(Z,[["render",te]]),se={__name:"SecondaryButton",props:{is:{default:"button"}},setup(t){return(u,i)=>(l(),v(j(t.is),{class:"flex items-center justify-center border border-transparent px-10 py-3 font-title font-bold uppercase ring-1 ring-primary transition-colors duration-300 hover:ring-primary-highlight focus:outline-0 focus:ring-1 focus:ring-alternate disabled:ring-gray-500"},{default:r(()=>[$(u.$slots,"default")]),_:3}))}},ae=["onSubmit"],ne=["onUpdate:modelValue"],oe=Object.assign({layout:q},{__name:"EditTickets",props:{tickets:{type:Array},features:{type:Array}},setup(t){const i=t.tickets.map(s=>({ticket:s,form:D({name:s.name,description:s.description,branding_hex:s.branding_hex,features:s.features?Object.fromEntries(s.features.map(p=>[p.value,!0])):{}}),submit:(p,n)=>{p.transform(e=>({...e,features:Object.keys(e.features).filter(_=>e.features[_]===!0)})).put(route("tickets.update",s.id),{preserveScroll:!0,onSuccess:()=>{n.value="Ticket information saved.",setTimeout(()=>n.value="",3e3)}})},message:V("")}));return(s,p)=>(l(!0),d(S,null,w(E(i),({ticket:n,form:e,submit:_,message:g})=>(l(),v(G,{key:n.id,heading:`Edit ${n.name} Ticket`,class:"mt-12"},{default:r(()=>[f("form",{onSubmit:O(()=>_(e,g),["prevent"]),class:"space-y-4"},[a(b,null,{default:r(()=>[a(y,null,{default:r(()=>[c("Name")]),_:1}),a(R,{modelValue:e.name,"onUpdate:modelValue":o=>e.name=o,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"]),a(h,{message:e.errors.name},null,8,["message"])]),_:2},1024),a(b,null,{default:r(()=>[a(y,null,{default:r(()=>[c("Description")]),_:1}),a(Y,{modelValue:e.description,"onUpdate:modelValue":o=>e.description=o,class:"w-full",rows:"3"},null,8,["modelValue","onUpdate:modelValue"]),a(U,null,{default:r(()=>[c("A short, snappy description to whet the customer's appetite.")]),_:1}),a(h,{message:e.errors.description},null,8,["message"])]),_:2},1024),a(b,null,{default:r(()=>[a(y,{class:"mb-1"},{default:r(()=>[c("Branding")]),_:1}),m(f("input",{type:"color","onUpdate:modelValue":o=>e.branding_hex=o,class:"block size-10 border-0 bg-gray-700 px-1 py-0.5 font-semibold outline-0 ring-1 ring-gray-500 duration-300 focus:border-0 focus:outline-0 focus:ring-alternate"},null,8,ne),[[k,e.branding_hex]]),a(U,null,{default:r(()=>[c("Select the color used for branding when displaying the ticket.")]),_:1}),a(h,{message:e.errors.branding_hex},null,8,["message"])]),_:2},1024),a(z,{level:"3"},{default:r(()=>[c("Provides Access to")]),_:1}),(l(!0),d(S,null,w(t.features,o=>(l(),v(F,{label:o.description,for:`${n.id}-features-type-${o.value}`,key:o.value},{input:r(()=>[a(L,{id:`${n.id}-features-type-${o.value}`,checked:e.features[o.value],"onUpdate:checked":M=>e.features[o.value]=M},null,8,["id","checked","onUpdate:checked"])]),_:2},1032,["label","for"]))),128)),a(se,{type:"submit"},{default:r(()=>[c("Save")]),_:1}),m(f("p",{class:"text-sm text-secondary"},x(g.value),513),[[B,g.value]])],40,ae)]),_:2},1032,["heading"]))),128))}});export{oe as default};
